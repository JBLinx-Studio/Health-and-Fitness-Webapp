import{a as Q,r as o,j as e,h as s,i as l,t as N,M as v,k as f,l as w,y as R,z as A,E as I,I as L,J as c,B as M,o as E}from"./index-BVc-MuAq.js";import{I as S}from"./input-BAFQc-Ni.js";import{L as d}from"./label-BPGETael.js";import{T as $}from"./textarea-BZT1KFrz.js";import{S as C}from"./star-Dbie-RnA.js";const J=()=>{const{sleepRecords:g,addSleepRecord:T,getSleepSummary:D}=Q(),[i,m]=o.useState("22:00"),[n,u]=o.useState("07:00"),[b,h]=o.useState("good"),[p,y]=o.useState(""),j=(a,r)=>{const t=new Date(`2000-01-01 ${a}`);let x=new Date(`2000-01-01 ${r}`);return x<t&&(x=new Date(`2000-01-02 ${r}`)),(x.getTime()-t.getTime())/(1e3*60*60)},F=a=>{a.preventDefault();const r=j(i,n),t={date:new Date().toISOString().split("T")[0],bedtime:i,wakeTime:n,duration:r,quality:b,notes:p};T(t),m("22:00"),u("07:00"),h("good"),y("")},k=D(),q=a=>{switch(a){case"excellent":return"text-green-600 bg-green-100 dark:bg-green-900/40";case"good":return"text-blue-600 bg-blue-100 dark:bg-blue-900/40";case"fair":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/40";case"poor":return"text-red-600 bg-red-100 dark:bg-red-900/40";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900/40"}},B=a=>({poor:1,fair:2,good:3,excellent:4})[a]||3;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-blue-50 dark:from-slate-900 dark:via-indigo-900 dark:to-slate-900",children:e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-indigo-600 via-purple-600 to-blue-600 bg-clip-text text-transparent mb-2",children:"Sleep Tracker"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg",children:"Monitor your sleep patterns and improve your rest quality"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-3 grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx(s,{className:"bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm border-indigo-200/50 dark:border-indigo-700/50",children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:"Average Duration"}),e.jsxs("p",{className:"text-3xl font-bold text-indigo-600 dark:text-indigo-400",children:[k.averageDuration.toFixed(1),"h"]})]}),e.jsx("div",{className:"p-3 bg-indigo-100 dark:bg-indigo-900/40 rounded-2xl",children:e.jsx(N,{className:"h-8 w-8 text-indigo-600 dark:text-indigo-400"})})]})})}),e.jsx(s,{className:"bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm border-purple-200/50 dark:border-purple-700/50",children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:"Average Quality"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400 capitalize",children:k.averageQuality})]}),e.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/40 rounded-2xl",children:e.jsx(C,{className:"h-8 w-8 text-purple-600 dark:text-purple-400"})})]})})}),e.jsx(s,{className:"bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm border-blue-200/50 dark:border-blue-700/50",children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:"Sleep Goal"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:"8.0h"})]}),e.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/40 rounded-2xl",children:e.jsx(v,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})})]})})})]}),e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs(s,{className:"bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm border-gray-200/50 dark:border-gray-700/50",children:[e.jsx(f,{children:e.jsxs(w,{className:"flex items-center text-gray-900 dark:text-gray-100",children:[e.jsx(v,{className:"mr-2 h-6 w-6 text-indigo-500"}),"Log Your Sleep"]})}),e.jsx(l,{children:e.jsxs("form",{onSubmit:F,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"bedtime",className:"text-gray-700 dark:text-gray-300 font-medium",children:"Bedtime"}),e.jsx(S,{id:"bedtime",type:"time",value:i,onChange:a=>m(a.target.value),className:"mt-2 bg-white/80 dark:bg-slate-700/80 border-gray-200/60 dark:border-gray-600/60"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"wakeTime",className:"text-gray-700 dark:text-gray-300 font-medium",children:"Wake Time"}),e.jsx(S,{id:"wakeTime",type:"time",value:n,onChange:a=>u(a.target.value),className:"mt-2 bg-white/80 dark:bg-slate-700/80 border-gray-200/60 dark:border-gray-600/60"})]})]}),e.jsxs("div",{children:[e.jsxs(d,{className:"text-gray-700 dark:text-gray-300 font-medium",children:["Duration: ",j(i,n).toFixed(1)," hours"]}),e.jsx("div",{className:"mt-2 p-3 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg border border-indigo-200 dark:border-indigo-700",children:e.jsx("p",{className:"text-sm text-indigo-700 dark:text-indigo-300",children:"Calculated automatically based on your bedtime and wake time"})})]}),e.jsxs("div",{children:[e.jsx(d,{className:"text-gray-700 dark:text-gray-300 font-medium",children:"Sleep Quality"}),e.jsxs(R,{value:b,onValueChange:a=>h(a),children:[e.jsx(A,{className:"mt-2 bg-white/80 dark:bg-slate-700/80 border-gray-200/60 dark:border-gray-600/60",children:e.jsx(I,{})}),e.jsxs(L,{className:"bg-white/95 dark:bg-slate-800/95 backdrop-blur-xl border-gray-200/60 dark:border-gray-700/60",children:[e.jsx(c,{value:"poor",children:"Poor ⭐"}),e.jsx(c,{value:"fair",children:"Fair ⭐⭐"}),e.jsx(c,{value:"good",children:"Good ⭐⭐⭐"}),e.jsx(c,{value:"excellent",children:"Excellent ⭐⭐⭐⭐"})]})]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"notes",className:"text-gray-700 dark:text-gray-300 font-medium",children:"Sleep Notes (Optional)"}),e.jsx($,{id:"notes",value:p,onChange:a=>y(a.target.value),placeholder:"How did you sleep? Any dreams, interruptions, or thoughts...",className:"mt-2 bg-white/80 dark:bg-slate-700/80 border-gray-200/60 dark:border-gray-600/60",rows:3})]}),e.jsx(M,{type:"submit",className:"w-full bg-gradient-to-r from-indigo-500 via-purple-500 to-blue-500 hover:shadow-xl transition-all duration-300 text-white border-0 hover:scale-[1.02]",children:"Log Sleep Record"})]})})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs(s,{className:"bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm border-gray-200/50 dark:border-gray-700/50",children:[e.jsx(f,{children:e.jsxs(w,{className:"flex items-center text-gray-900 dark:text-gray-100",children:[e.jsx(N,{className:"mr-2 h-5 w-5 text-blue-500"}),"Recent Sleep"]})}),e.jsx(l,{children:e.jsxs("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[g.slice(-10).reverse().map(a=>e.jsxs("div",{className:"p-4 rounded-xl bg-gray-50 dark:bg-slate-700/50 border border-gray-200/50 dark:border-gray-600/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:[a.duration.toFixed(1)," hours"]}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(a.date).toLocaleDateString()})]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[e.jsxs("div",{children:["Bedtime: ",a.bedtime," → Wake: ",a.wakeTime]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{className:`${q(a.quality)} border-0`,children:a.quality.charAt(0).toUpperCase()+a.quality.slice(1)}),e.jsx("div",{className:"flex",children:Array.from({length:B(a.quality)}).map((r,t)=>e.jsx(C,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"},t))})]}),a.notes&&e.jsxs("p",{className:"text-sm mt-2 text-gray-700 dark:text-gray-300 italic",children:['"',a.notes,'"']})]})]},a.id)),g.length===0&&e.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"No sleep records yet. Start tracking your sleep patterns!"})]})})]})})]})]})})};export{J as default};
