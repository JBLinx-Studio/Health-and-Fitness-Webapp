import{d as D,a as T,j as e,g as j,i as g,k as u,O as L,h as f,n as A,s as C,w as U,Q as _}from"./index-BNIejNKu.js";import{A as N}from"./award-BeJw37jC.js";import{S as R}from"./star-t0MCYK5P.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=D("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]),M=({title:n,description:l,date:i,isUnlocked:a,icon:c=e.jsx(N,{className:"h-4 w-4"})})=>e.jsxs("div",{className:A("flex items-center gap-3 p-3 rounded-lg border",a?"bg-green-50 border-green-200":"bg-gray-100 border-gray-200 opacity-60"),children:[e.jsx("div",{className:A("rounded-full p-2",a?"bg-green-100 text-green-700":"bg-gray-200 text-gray-500"),children:c}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-sm",children:n}),e.jsx("p",{className:"text-xs text-muted-foreground",children:l}),a&&i&&e.jsxs("p",{className:"text-xs mt-1 text-green-700",children:["Unlocked on ",new Date(i).toLocaleDateString()]})]}),a&&e.jsx(R,{className:"h-5 w-5 text-yellow-400 fill-yellow-400"})]}),B=()=>{const{achievements:n,addictionRecords:l,sleepRecords:i,exerciseItems:a}=T(),c=[...new Set(l.map(s=>s.type))],v=a.length>0,b=i.length>0,d=l.length>0,k=[{id:"first_exercise",title:"First Workout",description:"Log your first exercise session",isUnlocked:v,icon:e.jsx(w,{className:"h-4 w-4"}),unlockDate:a.length>0?a[0].date:void 0},{id:"first_sleep",title:"Sleep Tracker",description:"Log your first sleep record",isUnlocked:b,icon:e.jsx(w,{className:"h-4 w-4"}),unlockDate:i.length>0?i[0].date:void 0},{id:"first_addiction_tracking",title:"Recovery Journey",description:"Start tracking an addiction",isUnlocked:d,icon:e.jsx(w,{className:"h-4 w-4"}),unlockDate:l.length>0?l[0].date:void 0}],o=c.map(s=>{const t=n.find(x=>x.type==="addiction_streak"&&x.name.includes(s));return{id:`${s}_tracking`,title:`${s.charAt(0).toUpperCase()+s.slice(1)} Recovery`,description:`Track your ${s} consumption and maintain goals`,isUnlocked:!!t,icon:e.jsx(N,{className:"h-4 w-4"}),unlockDate:t==null?void 0:t.date}}),h=[...k,...o,...n.filter(s=>!s.type.includes("addiction_daily")).map(s=>({id:s.id,title:s.name.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "),description:s.description,isUnlocked:!0,unlockDate:s.date,icon:e.jsx(N,{className:"h-4 w-4"})}))],m=h.filter(s=>s.isUnlocked),r=h.filter(s=>!s.isUnlocked);return e.jsxs(j,{children:[e.jsxs(g,{children:[e.jsxs(u,{className:"flex items-center",children:[e.jsx(N,{className:"mr-2 h-5 w-5 text-yellow-500"}),"Achievements & Rewards"]}),e.jsx(L,{children:"Track your progress and unlock achievements"})]}),e.jsxs(f,{className:"space-y-4",children:[e.jsxs("h3",{className:"font-medium text-sm",children:["Unlocked (",m.length,")"]}),e.jsx("div",{className:"grid gap-3",children:m.length>0?m.map(s=>e.jsx(M,{title:s.title,description:s.description,isUnlocked:!0,date:s.unlockDate,icon:s.icon},s.id)):e.jsx("p",{className:"text-sm text-muted-foreground",children:"You haven't unlocked any achievements yet. Keep tracking your health to earn rewards!"})}),r.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("h3",{className:"font-medium text-sm pt-4",children:["Locked (",r.length,")"]}),e.jsx("div",{className:"grid gap-3",children:r.map(s=>e.jsx(M,{title:s.title,description:s.description,isUnlocked:!1,icon:s.icon},s.id))})]})]})]})},$=()=>{const{achievements:n,addictionRecords:l,sleepRecords:i,exerciseItems:a,foodItems:c}=T(),v=a.reduce((s,t)=>s+t.duration,0),b=a.reduce((s,t)=>s+t.calories_burned,0),d=c.length,k=i.length,o={exercise:h(a.map(s=>s.date.split("T")[0])),sleep:h(i.map(s=>s.date.split("T")[0])),addiction:l.length>0?Math.max(...[...new Set(l.map(s=>s.type))].map(s=>m(s))):0};function h(s){if(s.length===0)return 0;const t=[...new Set(s)].sort();let x=1,p=1;for(let y=1;y<t.length;y++){const S=new Date(t[y-1]);S.setDate(S.getDate()+1),S.toISOString().split("T")[0]===t[y]?x++:x=1,p=Math.max(p,x)}return p}function m(s){return l.filter(t=>t.type===s).map(t=>t.date.split("T")[0]).filter((t,x,p)=>p.indexOf(t)===x).length}const r={level:Math.min(10,Math.floor(n.length/3)+1),points:n.length*100,nextLevel:Math.min(10,Math.floor(n.length/3)+2),progress:n.length%3/3*100,maxLevel:10};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Achievements & Rewards"}),e.jsx("div",{className:"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-lg text-white p-6 shadow-lg",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[e.jsxs("div",{className:"flex items-center mb-4 md:mb-0",children:[e.jsx("div",{className:"bg-white/20 p-4 rounded-full",children:e.jsx(C,{className:"h-12 w-12 text-yellow-300"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Health Champion"}),e.jsxs("p",{className:"text-white/80",children:["Level ",r.level," / ",r.maxLevel]}),e.jsx("div",{className:"mt-2 bg-white/20 h-2 w-48 rounded-full",children:e.jsx("div",{className:"bg-yellow-300 h-2 rounded-full",style:{width:`${r.progress}%`}})}),e.jsxs("p",{className:"text-sm mt-1",children:[r.points," points - ",Math.round(r.progress),"% to Level ",r.nextLevel]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-3xl font-bold",children:n.length}),e.jsx("p",{className:"text-white/80 text-sm",children:"Achievements"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-3xl font-bold",children:Math.max(o.exercise,o.sleep,o.addiction)}),e.jsx("p",{className:"text-white/80 text-sm",children:"Best Streak"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-3xl font-bold",children:d+a.length+i.length}),e.jsx("p",{className:"text-white/80 text-sm",children:"Entries"})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(j,{children:[e.jsx(g,{className:"pb-2",children:e.jsxs(u,{className:"flex items-center",children:[e.jsx(w,{className:"mr-2 h-5 w-5 text-purple-500"}),"Exercise Stats"]})}),e.jsx(f,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total Workouts"}),e.jsx("span",{className:"font-bold",children:a.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total Minutes"}),e.jsx("span",{className:"font-bold",children:v})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Calories Burned"}),e.jsx("span",{className:"font-bold",children:b})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Best Streak"}),e.jsxs("span",{className:"font-bold",children:[o.exercise," days"]})]})]})})]}),e.jsxs(j,{children:[e.jsx(g,{className:"pb-2",children:e.jsxs(u,{className:"flex items-center",children:[e.jsx(U,{className:"mr-2 h-5 w-5 text-yellow-500"}),"Nutrition Stats"]})}),e.jsx(f,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Meals Logged"}),e.jsx("span",{className:"font-bold",children:d})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Daily Avg."}),e.jsx("span",{className:"font-bold",children:d>0?Math.round(d/(c.length?[...new Set(c.map(s=>s.date.split("T")[0]))].length:1)):0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Days Tracked"}),e.jsx("span",{className:"font-bold",children:c.length?[...new Set(c.map(s=>s.date.split("T")[0]))].length:0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Nutritional Balance"}),e.jsx("div",{className:"flex",children:Array(5).fill(0).map((s,t)=>e.jsx(R,{className:`h-4 w-4 ${t<(d>10?4:Math.floor(d/3))?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},t))})]})]})})]}),e.jsxs(j,{children:[e.jsx(g,{className:"pb-2",children:e.jsxs(u,{className:"flex items-center",children:[e.jsx(_,{className:"mr-2 h-5 w-5 text-green-500"}),"Recovery Milestones"]})}),e.jsx(f,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total Sleep Records"}),e.jsx("span",{className:"font-bold",children:k})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Best Sleep Streak"}),e.jsxs("span",{className:"font-bold",children:[o.sleep," days"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Addiction Tracking"}),e.jsxs("span",{className:"font-bold",children:[l.length>0?[...new Set(l.map(s=>s.type))].length:0," types"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Best Recovery Streak"}),e.jsxs("span",{className:"font-bold",children:[o.addiction," days"]})]})]})})]})]}),e.jsx(B,{}),e.jsxs(j,{children:[e.jsxs(g,{children:[e.jsxs(u,{className:"flex items-center",children:[e.jsx(N,{className:"mr-2 h-5 w-5 text-blue-500"}),"Health Reward System"]}),e.jsx(L,{children:"Set personal rewards for reaching your health goals"})]}),e.jsx(f,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 border rounded-lg p-4",children:[e.jsx("h3",{className:"font-medium mb-2",children:"How the Reward System Works"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["1. Track your health consistently to earn achievements",e.jsx("br",{}),"2. Each achievement earns you points",e.jsx("br",{}),"3. Set personal rewards for yourself when you reach certain point levels",e.jsx("br",{}),"4. Stay motivated by working toward your next reward"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h3",{className:"font-medium",children:"Beginner Reward"}),e.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded",children:"500 points"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Suggestion: Enjoy a relaxing spa day or massage as a reward for starting your health journey."})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h3",{className:"font-medium",children:"Intermediate Reward"}),e.jsx("span",{className:"bg-indigo-100 text-indigo-800 text-xs font-medium px-2.5 py-0.5 rounded",children:"1000 points"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Suggestion: Purchase a new fitness gadget or workout gear to enhance your health routine."})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h3",{className:"font-medium",children:"Advanced Reward"}),e.jsx("span",{className:"bg-purple-100 text-purple-800 text-xs font-medium px-2.5 py-0.5 rounded",children:"2000 points"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Suggestion: Plan a weekend getaway to celebrate your dedication to your health journey."})]})]})]})})]})]})};export{$ as default};
