import{e as A,j as e,h as z,i as P,o as N,B as d,w as G,r as m,k as be,l as fe,X as se,y as Ne,z as ve,E as ye,I as we,J as E,f as ke,G as u,Z as D,s as Se,p as n,t as _,U as Ce,c as $,n as Me,q as Te,m as Ae,P as Fe,a as Pe,b as Be,D as Ie,K as Re}from"./index-DZGpoIaA.js";import{I as B}from"./input-BflmFY5_.js";import{T as W,a as K,b,c as v}from"./tabs-B11Pu8kV.js";import{S as k}from"./search-q3CLGu6b.js";import{U as ae}from"./utensils-DkqQf8Iv.js";import{L as H}from"./label-BSprKJ7-.js";import{C as Y}from"./camera-ChM73mAB.js";import{C as re}from"./circle-alert-CqxvMW_k.js";import{S as Ee}from"./star-sMjKKVRF.js";import{n as ze,B as te,X as le,Y as ie,o as De,R as Q,p as Ge,T as Z,P as Ue,q as Oe,r as Le,s as He}from"./PieChart-smwuuz3E.js";import{C as We}from"./circle-check-big-D2IEY8XM.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=A("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=A("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=A("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=A("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=A("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=A("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);var $e=ze({chartName:"BarChart",GraphicalChild:te,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:le},{axisType:"yAxis",AxisComp:ie}],formatAxisMap:De});const Ye="dp0h0fM6976oP9ecj0ludr9ZavnIa9Qg5ZelwKIN",Qe="https://api.nal.usda.gov/fdc/v1",Ze=async l=>{try{const t=await fetch(`${Qe}/foods/search?api_key=${Ye}&query=${encodeURIComponent(l)}&pageSize=25`);if(!t.ok)throw new Error("Failed to fetch foods");return(await t.json()).foods||[]}catch(t){return console.error("Error searching foods:",t),[]}},ce=l=>{const t={ENERGY:1008,PROTEIN:1003,FAT:1004,CARBS:1005,FIBER:1079,SUGAR:2e3,SODIUM:1093},i=c=>{const o=l.foodNutrients.find(p=>p.nutrientId===c||p.number&&parseInt(p.number)===c);return o&&(o.amount||o.value)||0};return{...{calories:i(t.ENERGY),protein:i(t.PROTEIN),fat:i(t.FAT),carbs:i(t.CARBS),fiber:i(t.FIBER),sugar:i(t.SUGAR),sodium:i(t.SODIUM)},servingSize:l.servingSize||100,servingSizeUnit:l.servingSizeUnit||"g"}},Xe=(l,t)=>{const i=t/100;return{calories:Math.round(l.calories*i),protein:Math.round(l.protein*i*10)/10,fat:Math.round(l.fat*i*10)/10,carbs:Math.round(l.carbs*i*10)/10,fiber:Math.round(l.fiber*i*10)/10,sugar:Math.round(l.sugar*i*10)/10,sodium:Math.round(l.sodium*i)}},Je={USDA_FOOD_DATA:{baseUrl:"https://api.nal.usda.gov/fdc/v1",apiKey:"dp0h0fM6976oP9ecj0ludr9ZavnIa9Qg5ZelwKIN",description:"Official USDA food nutrition database"},OPEN_FOOD_FACTS:{baseUrl:"https://world.openfoodfacts.org/api/v0",apiKey:null,description:"Global food products database with barcode scanning"},SPOONACULAR:{baseUrl:"https://api.spoonacular.com",apiKey:null,description:"Recipe search, meal planning, and nutrition analysis"},EDAMAM_NUTRITION:{baseUrl:"https://api.edamam.com/api/nutrition-data/v2",apiKey:null,description:"Nutrition analysis for recipes and foods"},THEMEALDB:{baseUrl:"https://www.themealdb.com/api/json/v1/1",apiKey:null,description:"Free recipe database"},EXERCISEDB:{baseUrl:"https://exercisedb.p.rapidapi.com",apiKey:null,description:"Comprehensive exercise database with images and instructions"},WGER:{baseUrl:"https://wger.de/api/v2",apiKey:null,description:"Open source workout and exercise database"}},es=async l=>{try{const i=await(await fetch(`${Je.THEMEALDB.baseUrl}/search.php?s=${encodeURIComponent(l)}`)).json();return i.meals?i.meals.map(a=>({id:a.idMeal,name:a.strMeal,category:a.strCategory,cuisine:a.strArea,instructions:a.strInstructions,image:a.strMealThumb,ingredients:Object.keys(a).filter(c=>c.startsWith("strIngredient")&&a[c]).map(c=>a[c])})):[]}catch(t){return console.error("Error fetching recipes:",t),[]}},J=({results:l,isSearching:t,onSelectFood:i})=>t?e.jsx(z,{className:"bg-white/90 dark:bg-slate-800/90 backdrop-blur-xl",children:e.jsxs(P,{className:"p-8 text-center",children:[e.jsx(Ve,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-500"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Searching USDA food database..."})]})}):l.length===0?e.jsx(z,{className:"bg-white/90 dark:bg-slate-800/90 backdrop-blur-xl",children:e.jsxs(P,{className:"p-8 text-center",children:[e.jsx(k,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Results Found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Try searching with different keywords or check your spelling."})]})}):e.jsx(z,{className:"bg-white/90 dark:bg-slate-800/90 backdrop-blur-xl",children:e.jsxs(P,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(ae,{className:"h-5 w-5 text-green-500"}),e.jsxs("h3",{className:"text-lg font-semibold",children:["Search Results (",l.length,")"]})]}),e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:l.map(a=>{const c=ce(a);return e.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 dark:border-gray-700 hover:border-green-300 dark:hover:border-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 transition-all group cursor-pointer",onClick:()=>i(a),children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 truncate",children:a.description}),a.brandName&&e.jsx(N,{variant:"outline",className:"mt-1 text-xs",children:a.brandName}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 mt-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Calories:"}),e.jsx("span",{className:"ml-1 font-semibold",children:c.calories})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Protein:"}),e.jsxs("span",{className:"ml-1 font-semibold",children:[c.protein,"g"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Carbs:"}),e.jsxs("span",{className:"ml-1 font-semibold",children:[c.carbs,"g"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Fat:"}),e.jsxs("span",{className:"ml-1 font-semibold",children:[c.fat,"g"]})]})]})]}),e.jsxs(d,{size:"sm",variant:"ghost",className:"opacity-0 group-hover:opacity-100 transition-opacity shrink-0",onClick:o=>{o.stopPropagation(),i(a)},children:[e.jsx(G,{className:"h-4 w-4 mr-1"}),"Select"]})]}),e.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"Per 100g • Click to add to diary"})]},a.fdcId)})}),e.jsx("div",{className:"mt-4 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:e.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"💡 Click on any food item to add it to your diary with customizable portions"})})]})}),ee=({food:l,onAddFood:t,onCancel:i})=>{const[a,c]=m.useState("1"),[o,p]=m.useState("breakfast"),[s,x]=m.useState("100"),f=ce(l),h=Xe(f,parseInt(s)||100),y=g=>{g.preventDefault();const S={name:l.description||"Unknown Food",calories:h.calories,protein:h.protein,carbs:h.carbs,fat:h.fat,fiber:h.fiber||0,serving_size:`${s}g`,meal_type:o,quantity:parseInt(a)||1,date:new Date().toISOString().split("T")[0],brandName:l.brandName};t(S)};return e.jsxs(z,{className:"w-full max-w-2xl mx-auto bg-white/90 dark:bg-slate-800/90 backdrop-blur-xl border border-white/20",children:[e.jsx(be,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"h-5 w-5 text-green-500"}),"Add to Food Diary"]}),e.jsx(d,{variant:"ghost",size:"sm",onClick:i,children:e.jsx(se,{className:"h-4 w-4"})})]})}),e.jsxs(P,{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-xl",children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:l.description}),l.brandName&&e.jsx(N,{variant:"outline",className:"mb-2",children:l.brandName}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Calories:"}),e.jsx("span",{className:"ml-1 font-semibold",children:h.calories})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Protein:"}),e.jsxs("span",{className:"ml-1 font-semibold",children:[h.protein,"g"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Carbs:"}),e.jsxs("span",{className:"ml-1 font-semibold",children:[h.carbs,"g"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Fat:"}),e.jsxs("span",{className:"ml-1 font-semibold",children:[h.fat,"g"]})]})]})]}),e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(H,{htmlFor:"weight",children:"Weight (grams)"}),e.jsx(B,{id:"weight",type:"number",value:s,onChange:g=>x(g.target.value),min:"1",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(H,{htmlFor:"quantity",children:"Quantity"}),e.jsx(B,{id:"quantity",type:"number",value:a,onChange:g=>c(g.target.value),min:"1",className:"mt-1"})]})]}),e.jsxs("div",{children:[e.jsx(H,{children:"Meal Type"}),e.jsxs(Ne,{value:o,onValueChange:g=>p(g),children:[e.jsx(ve,{className:"mt-1",children:e.jsx(ye,{})}),e.jsxs(we,{className:"bg-white dark:bg-slate-800 border border-gray-200 dark:border-gray-700",children:[e.jsx(E,{value:"breakfast",children:"🌅 Breakfast"}),e.jsx(E,{value:"lunch",children:"☀️ Lunch"}),e.jsx(E,{value:"dinner",children:"🌙 Dinner"}),e.jsx(E,{value:"snack",children:"🍎 Snack"})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsxs(d,{type:"submit",className:"flex-1 bg-green-600 hover:bg-green-700",children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),"Add to Diary"]}),e.jsx(d,{type:"button",variant:"outline",onClick:i,children:"Cancel"})]})]})]})]})},ss=({onScanResult:l,onClose:t,isOpen:i})=>{const[a,c]=m.useState(!1),[o,p]=m.useState(""),[s,x]=m.useState(null),[f,h]=m.useState(null),y=m.useRef(null),g=m.useRef(null),S={"123456789012":{barcode:"123456789012",name:"Greek Yogurt",brand:"Chobani",calories:100,servingSize:"170g container",nutrition:{protein:17,carbs:6,fat:0,fiber:0,sugar:4,sodium:65},ingredients:["Cultured Nonfat Milk","Natural Flavors","Live Active Cultures"],image:"https://images.unsplash.com/photo-1488477181946-6428a0291777?w=200"},"987654321098":{barcode:"987654321098",name:"Organic Banana",brand:"Fresh Farms",calories:105,servingSize:"1 medium banana (118g)",nutrition:{protein:1.3,carbs:27,fat:.4,fiber:3.1,sugar:14.4,sodium:1},ingredients:["Organic Banana"],image:"https://images.unsplash.com/photo-1571771894821-ce9b6c11b08e?w=200"}},C=m.useCallback(async()=>{try{h(null);const j=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});y.current&&(y.current.srcObject=j,g.current=j,c(!0))}catch(j){h("Camera access denied. Please allow camera permissions or enter barcode manually."),console.error("Camera error:",j)}},[]),M=m.useCallback(()=>{g.current&&(g.current.getTracks().forEach(j=>j.stop()),g.current=null),c(!1)},[]),q=m.useCallback(()=>{setTimeout(()=>{const w=S["123456789012"];w&&(x(w),M())},2e3)},[M]),I=m.useCallback(j=>{const w=S[j];w?(x(w),h(null)):h("Product not found. Try scanning again or enter details manually.")},[]),U=()=>{o.length>=8&&I(o)},T=()=>{s&&(l(s),t())};return ke.useEffect(()=>(i&&!a&&C(),()=>{M()}),[i,C,M,a]),i?e.jsx("div",{className:"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",children:e.jsxs(u,{variant:"premium",className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(Y,{className:"w-6 h-6"}),"Barcode Scanner"]}),e.jsx(d,{variant:"ghost",size:"icon",onClick:t,children:e.jsx(se,{className:"w-5 h-5"})})]}),s?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex gap-4",children:[s.image&&e.jsx("img",{src:s.image,alt:s.name,className:"w-24 h-24 rounded-xl object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold",children:s.name}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s.brand}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Barcode: ",s.barcode]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white/30 dark:bg-gray-800/30 rounded-xl p-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Calories per serving"}),e.jsx("p",{className:"text-2xl font-bold",children:s.calories}),e.jsx("p",{className:"text-xs text-gray-500",children:s.servingSize})]}),e.jsxs("div",{className:"bg-white/30 dark:bg-gray-800/30 rounded-xl p-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Protein"}),e.jsxs("p",{className:"text-2xl font-bold",children:[s.nutrition.protein,"g"]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"text-center p-3 bg-white/20 dark:bg-gray-800/20 rounded-lg",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Carbs"}),e.jsxs("p",{className:"font-bold",children:[s.nutrition.carbs,"g"]})]}),e.jsxs("div",{className:"text-center p-3 bg-white/20 dark:bg-gray-800/20 rounded-lg",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Fat"}),e.jsxs("p",{className:"font-bold",children:[s.nutrition.fat,"g"]})]}),e.jsxs("div",{className:"text-center p-3 bg-white/20 dark:bg-gray-800/20 rounded-lg",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Fiber"}),e.jsxs("p",{className:"font-bold",children:[s.nutrition.fiber,"g"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-semibold",children:"Ingredients:"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:s.ingredients.join(", ")})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(d,{onClick:T,className:"flex-1 gap-2",children:[e.jsx(G,{className:"w-4 h-4"}),"Add to Food Diary"]}),e.jsx(d,{variant:"outline",onClick:()=>x(null),children:"Scan Another"})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"relative",children:e.jsx("div",{className:"bg-gray-900 rounded-2xl overflow-hidden aspect-video",children:a?e.jsxs("div",{className:"relative",children:[e.jsx("video",{ref:y,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"border-4 border-white w-64 h-32 rounded-xl border-dashed opacity-80"})}),e.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2",children:e.jsxs(d,{onClick:q,className:"bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white border border-white/30",children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"Simulate Scan"]})})]}):e.jsx("div",{className:"flex items-center justify-center h-full text-white",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Y,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg",children:"Camera Loading..."})]})})})}),f&&e.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-50 dark:bg-red-900/20 rounded-xl border border-red-200 dark:border-red-800",children:[e.jsx(re,{className:"w-5 h-5 text-red-500"}),e.jsx("p",{className:"text-red-700 dark:text-red-400",children:f})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Or enter barcode manually:"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{type:"text",placeholder:"Enter barcode number...",value:o,onChange:j=>p(j.target.value),className:"flex-1 px-4 py-3 rounded-xl border border-gray-300 dark:border-gray-600 bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm"}),e.jsxs(d,{onClick:U,className:"gap-2",children:[e.jsx(k,{className:"w-4 h-4"}),"Search"]})]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Try: 123456789012 (Greek Yogurt) or 987654321098 (Banana)"})]})]})]})}):null},as=()=>{const[l,t]=m.useState("today"),[i,a]=m.useState(!1),c=[{id:"today",name:"Today",date:"Dec 7",isToday:!0},{id:"tomorrow",name:"Tomorrow",date:"Dec 8"},{id:"sunday",name:"Sunday",date:"Dec 9"},{id:"monday",name:"Monday",date:"Dec 10"},{id:"tuesday",name:"Tuesday",date:"Dec 11"},{id:"wednesday",name:"Wednesday",date:"Dec 12"},{id:"thursday",name:"Thursday",date:"Dec 13"}],o=[{id:1,name:"Mediterranean Power Bowl",type:"lunch",calories:520,protein:32,prepTime:15,difficulty:"Easy",tags:["High Protein","Low Carb"],image:"https://images.unsplash.com/photo-1546793665-c74683f339c1?w=300",ingredients:["Quinoa","Grilled Chicken","Feta","Olives","Tomatoes"],macros:{protein:32,carbs:28,fat:18}},{id:2,name:"Green Goddess Smoothie",type:"breakfast",calories:340,protein:24,prepTime:5,difficulty:"Easy",tags:["Vegan","Quick"],image:"https://images.unsplash.com/photo-1610970881699-44a5587cabec?w=300",ingredients:["Spinach","Banana","Protein Powder","Almond Milk"],macros:{protein:24,carbs:18,fat:8}},{id:3,name:"Salmon Teriyaki with Veggies",type:"dinner",calories:480,protein:42,prepTime:25,difficulty:"Medium",tags:["Omega-3","Heart Healthy"],image:"https://images.unsplash.com/photo-1467003909585-2f8a72700288?w=300",ingredients:["Salmon","Broccoli","Brown Rice","Teriyaki Sauce"],macros:{protein:42,carbs:22,fat:16}}],p=[{task:"Wash & chop vegetables",time:"15 min",priority:"high"},{task:"Cook quinoa & brown rice",time:"25 min",priority:"high"},{task:"Marinate proteins",time:"10 min",priority:"medium"},{task:"Prepare smoothie packs",time:"20 min",priority:"medium"},{task:"Portion snacks",time:"10 min",priority:"low"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 to-amber-500 rounded-2xl flex items-center justify-center shadow-vibrant",children:e.jsx(ne,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-orange-600 via-amber-600 to-orange-700 bg-clip-text text-transparent",children:"Meal Planning Hub"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg",children:"Plan, prep, and perfect your nutrition game"})]})]}),e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsxs(d,{variant:i?"default":"outline",onClick:()=>a(!i),className:"gap-2",children:[e.jsx(D,{className:"w-4 h-4"}),"Meal Prep Mode"]}),e.jsxs(N,{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-3 py-1",children:[e.jsx(Ee,{className:"w-3 h-3 mr-1"}),"Premium Features"]})]})]}),e.jsxs(u,{variant:"premium",className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(Se,{className:"w-5 h-5 text-orange-500"}),"Weekly Meal Plan"]}),e.jsxs(d,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(X,{className:"w-4 h-4"}),"Generate Shopping List"]})]}),e.jsx("div",{className:"grid grid-cols-7 gap-2",children:c.map(s=>e.jsxs(d,{variant:l===s.id?"default":"outline",onClick:()=>t(s.id),className:n("h-auto p-3 flex flex-col items-center",s.isToday&&"bg-gradient-to-br from-orange-500 to-amber-500 text-white shadow-vibrant"),children:[e.jsx("span",{className:"font-semibold text-sm",children:s.name}),e.jsx("span",{className:"text-xs opacity-80",children:s.date})]},s.id))})]}),e.jsxs(W,{defaultValue:"meals",className:"w-full",children:[e.jsxs(K,{className:"grid w-full grid-cols-3",children:[e.jsx(b,{value:"meals",children:"Today's Meals"}),e.jsx(b,{value:"suggestions",children:"AI Suggestions"}),e.jsx(b,{value:"prep",children:"Meal Prep"})]}),e.jsx(v,{value:"meals",className:"space-y-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["Breakfast","Lunch","Dinner"].map((s,x)=>e.jsx(u,{variant:"premium",className:"p-4",children:e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("div",{className:"text-2xl",children:["🌅","☀️","🌙"][x]}),e.jsx("h3",{className:"font-semibold text-lg",children:s}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("p",{children:"Target: 400-500 cal"}),e.jsx("p",{children:"Protein: 25-30g"})]}),e.jsx(d,{className:"w-full bg-gradient-to-r from-orange-500 to-amber-500",children:"Add Meal"})]})},s))})}),e.jsx(v,{value:"suggestions",className:"space-y-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(s=>e.jsxs(u,{variant:"premium",className:"overflow-hidden group hover:scale-105 transition-transform duration-300",children:[e.jsxs("div",{className:"aspect-video relative overflow-hidden",children:[e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),e.jsx("div",{className:"absolute top-2 right-2",children:e.jsxs(N,{className:"bg-black/50 text-white",children:[s.calories," cal"]})}),e.jsx("div",{className:"absolute top-2 left-2",children:e.jsxs(N,{variant:"secondary",children:[e.jsx(_,{className:"w-3 h-3 mr-1"}),s.prepTime,"m"]})})]}),e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 capitalize",children:s.type})]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:s.tags.map(x=>e.jsx(N,{variant:"outline",className:"text-xs",children:x},x))}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"font-semibold text-blue-600",children:[s.macros.protein,"g"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Protein"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"font-semibold text-green-600",children:[s.macros.carbs,"g"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Carbs"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"font-semibold text-purple-600",children:[s.macros.fat,"g"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Fat"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(d,{size:"sm",className:"flex-1 bg-gradient-to-r from-orange-500 to-amber-500",children:"Add to Plan"}),e.jsx(d,{size:"sm",variant:"outline",children:e.jsx(Ke,{className:"w-4 h-4"})})]})]})})]},s.id))})}),e.jsx(v,{value:"prep",className:"space-y-4",children:e.jsx(u,{variant:"premium",className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-2",children:[e.jsx(D,{className:"w-5 h-5 text-orange-500"}),"Sunday Meal Prep Checklist"]}),e.jsx(N,{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white",children:"Total: 80 minutes"})]}),e.jsx("div",{className:"space-y-3",children:p.map((s,x)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/50 dark:bg-slate-800/50 rounded-xl border border-orange-200/30 dark:border-orange-700/30",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-orange-500"}),e.jsx("span",{className:"font-medium",children:s.task}),e.jsx(N,{variant:s.priority==="high"?"destructive":s.priority==="medium"?"default":"secondary",className:"text-xs",children:s.priority})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(_,{className:"w-4 h-4"}),s.time]})]},x))}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[e.jsxs(d,{className:"bg-gradient-to-r from-orange-500 to-amber-500 gap-2",children:[e.jsx(Ce,{className:"w-4 h-4"}),"Start Meal Prep Session"]}),e.jsxs(d,{variant:"outline",className:"gap-2",children:[e.jsx(X,{className:"w-4 h-4"}),"Generate Prep List"]})]})]})})})]})]})},rs=()=>{const[l,t]=m.useState("week"),i=[{name:"Protein",value:25,color:"#3B82F6",goal:30},{name:"Carbs",value:45,color:"#10B981",goal:50},{name:"Fat",value:30,color:"#F59E0B",goal:20}],a=[{day:"Mon",calories:1850,protein:120,carbs:180,fat:65},{day:"Tue",calories:1950,protein:135,carbs:195,fat:70},{day:"Wed",calories:1780,protein:115,carbs:165,fat:62},{day:"Thu",calories:2100,protein:145,carbs:220,fat:78},{day:"Fri",calories:1920,protein:128,carbs:185,fat:68},{day:"Sat",calories:2200,protein:150,carbs:240,fat:85},{day:"Sun",calories:1650,protein:105,carbs:145,fat:58}],c=[{type:"success",title:"Protein Goal Achieved!",message:"You've consistently hit your protein targets this week. Great job maintaining muscle-building nutrition!",icon:We,color:"text-green-600 dark:text-green-400"},{type:"warning",title:"Hydration Alert",message:"Your water intake has been below optimal levels. Aim for 8-10 glasses daily for better performance.",icon:re,color:"text-yellow-600 dark:text-yellow-400"},{type:"tip",title:"Meal Timing Optimization",message:"Consider eating protein within 30 minutes post-workout to maximize muscle recovery and growth.",icon:He,color:"text-blue-600 dark:text-blue-400"}],o=78,p=[{area:"Fiber Intake",current:18,target:25,unit:"g"},{area:"Omega-3",current:.8,target:1.5,unit:"g"},{area:"Vitamin D",current:12,target:20,unit:"mcg"},{area:"Magnesium",current:280,target:400,unit:"mg"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"text-center space-y-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-blue-500 rounded-2xl flex items-center justify-center shadow-vibrant",children:e.jsx($,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-600 via-blue-600 to-purple-700 bg-clip-text text-transparent",children:"Nutrition Intelligence"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg",children:"AI-powered insights for optimal nutrition"})]})]})}),e.jsx(u,{variant:"premium",className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative w-32 h-32 mx-auto mb-4",children:[e.jsxs("svg",{className:"w-32 h-32 transform -rotate-90",viewBox:"0 0 36 36",children:[e.jsx("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"rgba(156, 163, 175, 0.3)",strokeWidth:"3"}),e.jsx("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"url(#nutritionGradient)",strokeWidth:"3",strokeDasharray:`${o}, 100`,strokeLinecap:"round"}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"nutritionGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"0%",stopColor:"#8B5CF6"}),e.jsx("stop",{offset:"100%",stopColor:"#3B82F6"})]})})]}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[e.jsx("span",{className:"text-3xl font-bold",children:o}),e.jsx("span",{className:"text-sm text-gray-500",children:"Nutrition Score"})]})]}),e.jsxs(N,{className:"bg-gradient-to-r from-purple-500 to-blue-500 text-white",children:[e.jsx(Me,{className:"w-3 h-3 mr-1"}),"Above Average"]})]}),e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-2",children:[e.jsx($,{className:"w-5 h-5 text-purple-500"}),"AI Nutrition Insights"]}),e.jsx("div",{className:"space-y-3",children:c.map((s,x)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white/50 dark:bg-slate-800/50 rounded-xl border border-purple-200/30 dark:border-purple-700/30",children:[e.jsx(s.icon,{className:n("w-5 h-5 mt-0.5",s.color)}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:s.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:s.message})]})]},x))})]})]})}),e.jsxs(W,{value:l,onValueChange:t,className:"w-full",children:[e.jsxs(K,{className:"grid w-full grid-cols-4",children:[e.jsx(b,{value:"day",children:"Today"}),e.jsx(b,{value:"week",children:"This Week"}),e.jsx(b,{value:"month",children:"This Month"}),e.jsx(b,{value:"trends",children:"Trends"})]}),e.jsx(v,{value:"week",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(u,{variant:"premium",className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(Te,{className:"w-5 h-5 text-purple-500"}),"Weekly Calorie Intake"]}),e.jsx(Q,{width:"100%",height:250,children:e.jsxs($e,{data:a,children:[e.jsx(Ge,{strokeDasharray:"3 3"}),e.jsx(le,{dataKey:"day"}),e.jsx(ie,{}),e.jsx(Z,{}),e.jsx(te,{dataKey:"calories",fill:"url(#calorieGradient)"}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"calorieGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#8B5CF6",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:.2})]})})]})})]}),e.jsxs(u,{variant:"premium",className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Macronutrient Balance"}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(Q,{width:200,height:200,children:e.jsxs(Ue,{children:[e.jsx(Oe,{data:i,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:i.map((s,x)=>e.jsx(Le,{fill:s.color},`cell-${x}`))}),e.jsx(Z,{})]})})}),e.jsx("div",{className:"space-y-2",children:i.map(s=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:s.color}}),e.jsx("span",{className:"text-sm font-medium",children:s.name})]}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[s.value,"% (Goal: ",s.goal,"%)"]})]},s.name))})]})]})}),e.jsx(v,{value:"trends",className:"space-y-4",children:e.jsxs(u,{variant:"premium",className:"p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:[e.jsx(Ae,{className:"w-5 h-5 text-purple-500"}),"Improvement Areas"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.map((s,x)=>e.jsxs("div",{className:"p-4 bg-white/50 dark:bg-slate-800/50 rounded-xl border border-purple-200/30 dark:border-purple-700/30",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h4",{className:"font-semibold",children:s.area}),e.jsxs(N,{variant:"outline",children:[Math.round(s.current/s.target*100),"%"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("span",{children:[s.current,s.unit]}),e.jsxs("span",{children:[s.target,s.unit]})]}),e.jsx(Fe,{value:s.current/s.target*100,className:"h-2"})]})]},x))}),e.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-xl border border-purple-200/30 dark:border-purple-700/30",children:[e.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[e.jsx(D,{className:"w-4 h-4 text-purple-500"}),"Weekly Nutrition Goal"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Focus on increasing fiber intake by adding more vegetables and whole grains to your meals."}),e.jsx(d,{size:"sm",className:"bg-gradient-to-r from-purple-500 to-blue-500",children:"Create Action Plan"})]})]})})]})]})},ps=()=>{const{dailyGoals:l,todayData:t,addFoodItem:i}=Pe(),{isMobile:a,isTablet:c}=Be(),[o,p]=m.useState(""),[s,x]=m.useState([]),[f,h]=m.useState(!1),[y,g]=m.useState(null),[S,C]=m.useState(!1),[M,q]=m.useState("breakfast"),[I,U]=m.useState([]),T=async()=>{if(o.trim()){h(!0);try{const r=await Ze(o);x(r)}catch(r){console.error("Search failed:",r),x([])}finally{h(!1)}}},j=async()=>{if(o.trim())try{const r=await es(o);U(r)}catch(r){console.error("Recipe search failed:",r)}},w=r=>{g(r)},O=r=>{i({...r,id:Date.now().toString(),date:new Date().toISOString().split("T")[0],quantity:1}),g(null),x([]),p("")},oe=r=>{O({name:r.name,servingSize:r.servingSize,calories:r.calories,protein:r.nutrition.protein,carbs:r.nutrition.carbs,fat:r.nutrition.fat,meal:M}),C(!1)},de=[{name:"Protein",current:(t==null?void 0:t.protein)||0,goal:l.protein,color:"from-blue-500 to-cyan-500",unit:"g",icon:"💪"},{name:"Carbs",current:(t==null?void 0:t.carbs)||0,goal:l.carbs,color:"from-green-500 to-emerald-500",unit:"g",icon:"🌾"},{name:"Fat",current:(t==null?void 0:t.fat)||0,goal:l.fat,color:"from-purple-500 to-pink-500",unit:"g",icon:"🥑"}],me=[{name:"Water",icon:e.jsx(Ie,{className:"w-4 h-4"}),color:"bg-blue-500"},{name:"Coffee",icon:e.jsx(qe,{className:"w-4 h-4"}),color:"bg-amber-600"},{name:"Apple",icon:e.jsx(Re,{className:"w-4 h-4"}),color:"bg-red-500"},{name:"Banana",icon:"🍌",color:"bg-yellow-500"}],xe=[{id:"breakfast",name:"Breakfast",icon:"🌅",foods:2,calories:420,color:"from-orange-400 to-red-500"},{id:"lunch",name:"Lunch",icon:"☀️",foods:3,calories:650,color:"from-yellow-400 to-orange-500"},{id:"dinner",name:"Dinner",icon:"🌙",foods:1,calories:380,color:"from-purple-400 to-pink-500"},{id:"snacks",name:"Snacks",icon:"🍎",foods:2,calories:200,color:"from-green-400 to-emerald-500"}],L=(t==null?void 0:t.calories)||0,he=L/l.calories*100,ge=a?"text-2xl":c?"text-3xl":"text-4xl",F=a?"p-3":c?"p-4":"p-6",pe=a?"grid-cols-1":c?"grid-cols-2":"grid-cols-3",R=a?"sm":"lg",ue=a?"space-y-4":"space-y-8";return e.jsxs("div",{className:n(ue,F),children:[e.jsxs("div",{className:n("flex flex-col gap-4",a?"items-center text-center":"lg:flex-row justify-between items-start lg:items-center"),children:[e.jsxs("div",{children:[e.jsx("h1",{className:n("font-bold bg-gradient-to-r from-orange-600 via-amber-600 to-orange-700 bg-clip-text text-transparent",ge),children:"Nutrition Command Center 🍽️"}),e.jsx("p",{className:n("text-gray-600 dark:text-gray-300 mt-2",a?"text-sm":c?"text-base":"text-lg"),children:"Advanced nutrition tracking with AI-powered meal planning and insights"})]}),e.jsxs("div",{className:n("flex gap-2",a?"flex-col w-full":"flex-row"),children:[e.jsxs(d,{variant:"glass",size:R,className:"gap-2",onClick:()=>C(!0),children:[e.jsx(_e,{className:n(a?"w-4 h-4":"w-5 h-5")}),"Scan Barcode"]}),e.jsxs(d,{variant:"glass-primary",size:R,className:"gap-2",children:[e.jsx(G,{className:n(a?"w-4 h-4":"w-5 h-5")}),"Add Food"]})]})]}),e.jsx(u,{variant:"premium",className:F,children:e.jsxs("div",{className:n("grid gap-6",a?"grid-cols-1":"grid-cols-1 lg:grid-cols-4"),children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:n("relative mx-auto mb-4",a?"w-24 h-24":"w-32 h-32"),children:[e.jsxs("svg",{className:n("transform -rotate-90",a?"w-24 h-24":"w-32 h-32"),viewBox:"0 0 36 36",children:[e.jsx("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"rgba(156, 163, 175, 0.3)",strokeWidth:"3"}),e.jsx("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"url(#calorieGradient)",strokeWidth:"3",strokeDasharray:`${Math.min(he,100)}, 100`,strokeLinecap:"round"}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"calorieGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"0%",stopColor:"#f97316"}),e.jsx("stop",{offset:"100%",stopColor:"#ef4444"})]})})]}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[e.jsx("span",{className:n("font-bold",a?"text-lg":"text-2xl"),children:L}),e.jsxs("span",{className:n("text-gray-500","text-xs"),children:["/ ",l.calories]})]})]}),e.jsx("h3",{className:n("font-semibold",a?"text-base":"text-lg"),children:"Calories 🔥"}),e.jsxs("p",{className:n("text-gray-500",a?"text-xs":"text-sm"),children:[Math.max(0,l.calories-L)," remaining"]})]})}),e.jsxs("div",{className:"lg:col-span-3",children:[e.jsx("h3",{className:n("font-semibold mb-4",a?"text-base":"text-lg"),children:"Macronutrients"}),e.jsx("div",{className:n("grid gap-3",a?"grid-cols-1":"grid-cols-3"),children:de.map((r,je)=>{const V=Math.min(r.current/r.goal*100,100);return e.jsxs("div",{className:n("p-3 rounded-xl bg-white/50 dark:bg-gray-800/50 border border-white/20 hover:bg-white/70 dark:hover:bg-gray-800/70 transition-all",a?"p-3":"p-4"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:r.icon}),e.jsx("span",{className:n("font-medium",a?"text-sm":"text-base"),children:r.name})]}),e.jsxs(N,{variant:"outline",className:"text-xs",children:[V.toFixed(0),"%"]})]}),e.jsxs("div",{className:"flex items-baseline gap-2 mb-3",children:[e.jsxs("span",{className:n("font-bold",a?"text-lg":"text-xl"),children:[r.current,r.unit]}),e.jsxs("span",{className:n("text-gray-500",a?"text-xs":"text-sm"),children:["/ ",r.goal,r.unit]})]}),e.jsx("div",{className:"relative h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:n("h-full bg-gradient-to-r transition-all duration-700",r.color),style:{width:`${V}%`}})})]},je)})})]})]})}),e.jsxs(W,{defaultValue:"log",className:"w-full",children:[e.jsxs(K,{className:n("grid w-full mb-6",a?"grid-cols-2 h-auto":"grid-cols-6"),children:[e.jsx(b,{value:"log",className:n(a?"text-xs p-2":""),children:a?"Log":"Log Food"}),e.jsx(b,{value:"search",className:n(a?"text-xs p-2":""),children:a?"Search":"Search Foods"}),!a&&e.jsx(b,{value:"planning",children:"Meal Planning"}),!a&&e.jsx(b,{value:"insights",children:"AI Insights"}),!a&&e.jsx(b,{value:"recipes",children:"Recipes"}),!a&&e.jsx(b,{value:"meals",children:"Meals"})]}),e.jsxs(v,{value:"log",className:"space-y-6",children:[e.jsxs(u,{variant:"premium",className:F,children:[e.jsxs("div",{className:n("flex gap-3 mb-4",a?"flex-col":"flex-row"),children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(k,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{placeholder:"Search foods, brands, or scan barcode...",value:o,onChange:r=>p(r.target.value),onKeyPress:r=>r.key==="Enter"&&T(),className:n("pl-10",a?"h-10":"h-12")})]}),e.jsxs(d,{variant:"glass",size:R,className:"gap-2",onClick:T,disabled:f,children:[e.jsx(k,{className:"w-4 h-4"}),f?"Searching...":"Search"]})]}),e.jsx("div",{className:n("grid gap-2",a?"grid-cols-2":"grid-cols-4"),children:me.map(r=>e.jsxs(d,{variant:"outline",className:n("gap-2",a?"h-10 text-xs":"h-12"),children:[e.jsx("span",{className:n(typeof r.icon=="string"?"text-base":""),children:r.icon}),r.name]},r.name))})]}),y?e.jsx(ee,{food:y,onAddFood:O,onCancel:()=>g(null)}):e.jsx(J,{results:s,isSearching:f,onSelectFood:w})]}),e.jsx(v,{value:"search",className:"space-y-6",children:e.jsxs(u,{variant:"premium",className:F,children:[e.jsxs("div",{className:n("flex gap-3 mb-4",a?"flex-col":"flex-row"),children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(k,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{placeholder:"Search USDA food database...",value:o,onChange:r=>p(r.target.value),onKeyPress:r=>r.key==="Enter"&&T(),className:n("pl-10",a?"h-10":"h-12")})]}),e.jsxs(d,{onClick:T,disabled:f||!o.trim(),size:R,className:"gap-2",children:[e.jsx(k,{className:"w-4 h-4"}),f?"Searching...":"Search"]})]}),y?e.jsx(ee,{food:y,onAddFood:O,onCancel:()=>g(null)}):e.jsx(J,{results:s,isSearching:f,onSelectFood:w})]})}),!a&&e.jsxs(e.Fragment,{children:[e.jsx(v,{value:"planning",children:e.jsx(as,{})}),e.jsx(v,{value:"insights",children:e.jsx(rs,{})}),e.jsx(v,{value:"recipes",children:e.jsxs(u,{variant:"premium",className:F,children:[e.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[e.jsx(ne,{className:"w-5 h-5 text-green-500"}),"Recipe Database & Integration"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx(B,{placeholder:"Search healthy recipes...",value:o,onChange:r=>p(r.target.value)}),e.jsxs(d,{onClick:j,className:"gap-2",children:[e.jsx(k,{className:"w-4 h-4"}),"Search"]})]}),I.length>0&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:I.map(r=>e.jsx("div",{className:"p-4 border rounded-xl hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex gap-3",children:[r.image&&e.jsx("img",{src:r.image,alt:r.name,className:"w-16 h-16 rounded-lg object-cover"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:r.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[r.category," • ",r.cuisine]})]})]})},r.id))})]})]})}),e.jsx(v,{value:"meals",children:e.jsx("div",{className:n("grid gap-4",pe),children:xe.map(r=>e.jsx(u,{variant:"premium",className:"p-4 hover:scale-105 transition-transform cursor-pointer group",children:e.jsxs("div",{className:"text-center relative overflow-hidden",children:[e.jsx("div",{className:n("absolute inset-0 bg-gradient-to-br opacity-10 group-hover:opacity-20 transition-opacity rounded-xl",r.color)}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"text-3xl mb-3",children:r.icon}),e.jsx("h3",{className:"font-semibold text-lg mb-2",children:r.name}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-2xl font-bold",children:r.calories}),e.jsx("p",{className:"text-sm text-gray-500",children:"calories"}),e.jsxs("p",{className:"text-xs text-gray-400",children:[r.foods," foods logged"]})]})]})]})},r.id))})})]})]}),e.jsx(ss,{isOpen:S,onClose:()=>C(!1),onScanResult:oe})]})};export{ps as default};
